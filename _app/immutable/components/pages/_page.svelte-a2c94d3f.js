import{S as ie,i as re,s as oe,k as h,q as D,a as y,e as $,l as b,m as k,r as L,h as c,c as I,n as x,b as R,G as f,I as G,J as q,K as w,B as ee,L as se,u as ne,M as ae}from"../../chunks/index-3fdf889f.js";import{j as O}from"../../chunks/singletons-df0f1e33.js";O.disable_scroll_handling;const ue=O.goto;O.invalidate;O.invalidateAll;O.preload_data;O.preload_code;O.before_navigate;O.after_navigate;function te(r,e,l){const o=r.slice();return o[10]=e[l],o}function fe(r){let e,l,o;return{c(){e=h("div"),l=D("ERROR: "),o=D(r[3])},l(n){e=b(n,"DIV",{});var s=k(e);l=L(s,"ERROR: "),o=L(s,r[3]),s.forEach(c)},m(n,s){R(n,e,s),f(e,l),f(e,o)},p(n,s){s&8&&ne(o,n[3])},d(n){n&&c(e)}}}function ce(r){let e,l,o,n,s,_,d,v,p=r[4],a=[];for(let i=0;i<p.length;i+=1)a[i]=le(te(r,p,i));return{c(){e=h("button"),l=D("Link to this result"),o=y(),n=h("div"),s=D(`Component list:
    `),_=h("ul");for(let i=0;i<a.length;i+=1)a[i].c()},l(i){e=b(i,"BUTTON",{});var S=k(e);l=L(S,"Link to this result"),S.forEach(c),o=I(i),n=b(i,"DIV",{});var u=k(n);s=L(u,`Component list:
    `),_=b(u,"UL",{});var P=k(_);for(let g=0;g<a.length;g+=1)a[g].l(P);P.forEach(c),u.forEach(c)},m(i,S){R(i,e,S),f(e,l),R(i,o,S),R(i,n,S),f(n,s),f(n,_);for(let u=0;u<a.length;u+=1)a[u].m(_,null);d||(v=q(e,"click",r[5]),d=!0)},p(i,S){if(S&16){p=i[4];let u;for(u=0;u<p.length;u+=1){const P=te(i,p,u);a[u]?a[u].p(P,S):(a[u]=le(P),a[u].c(),a[u].m(_,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=p.length}},d(i){i&&c(e),i&&c(o),i&&c(n),ae(a,i),d=!1,v()}}}function le(r){let e,l=r[10]+"",o;return{c(){e=h("li"),o=D(l)},l(n){e=b(n,"LI",{});var s=k(e);o=L(s,l),s.forEach(c)},m(n,s){R(n,e,s),f(e,o)},p(n,s){s&16&&l!==(l=n[10]+"")&&ne(o,l)},d(n){n&&c(e)}}}function pe(r){let e,l,o,n,s,_,d,v,p,a,i,S,u,P,g,A,E,M,j,J,K,z,B,C,T,H,Q;function W(t,m){if(t[4].length>0)return ce;if(t[3].length>0)return fe}let U=W(r),N=U&&U(r);return{c(){e=h("div"),l=h("strong"),o=D("Original slide duration:"),n=y(),s=h("br"),_=y(),d=h("input"),v=y(),p=h("div"),a=h("strong"),i=D("Slide BPM:"),S=y(),u=h("br"),P=y(),g=h("input"),A=y(),E=h("div"),M=h("strong"),j=D("Number of components:"),J=y(),K=h("br"),z=y(),B=h("input"),C=y(),N&&N.c(),T=$(),this.h()},l(t){e=b(t,"DIV",{});var m=k(e);l=b(m,"STRONG",{});var X=k(l);o=L(X,"Original slide duration:"),X.forEach(c),n=I(m),s=b(m,"BR",{}),_=I(m),d=b(m,"INPUT",{}),m.forEach(c),v=I(t),p=b(t,"DIV",{});var V=k(p);a=b(V,"STRONG",{});var Y=k(a);i=L(Y,"Slide BPM:"),Y.forEach(c),S=I(V),u=b(V,"BR",{}),P=I(V),g=b(V,"INPUT",{type:!0}),V.forEach(c),A=I(t),E=b(t,"DIV",{});var F=k(E);M=b(F,"STRONG",{});var Z=k(M);j=L(Z,"Number of components:"),Z.forEach(c),J=I(F),K=b(F,"BR",{}),z=I(F),B=b(F,"INPUT",{type:!0}),F.forEach(c),C=I(t),N&&N.l(t),T=$(),this.h()},h(){x(g,"type","number"),x(B,"type","number")},m(t,m){R(t,e,m),f(e,l),f(l,o),f(e,n),f(e,s),f(e,_),f(e,d),G(d,r[0]),R(t,v,m),R(t,p,m),f(p,a),f(a,i),f(p,S),f(p,u),f(p,P),f(p,g),G(g,r[1]),R(t,A,m),R(t,E,m),f(E,M),f(M,j),f(E,J),f(E,K),f(E,z),f(E,B),G(B,r[2]),R(t,C,m),N&&N.m(t,m),R(t,T,m),H||(Q=[q(d,"input",r[6]),q(g,"input",r[7]),q(B,"input",r[8])],H=!0)},p(t,[m]){m&1&&d.value!==t[0]&&G(d,t[0]),m&2&&w(g.value)!==t[1]&&G(g,t[1]),m&4&&w(B.value)!==t[2]&&G(B,t[2]),U===(U=W(t))&&N?N.p(t,m):(N&&N.d(1),N=U&&U(t),N&&(N.c(),N.m(T.parentNode,T)))},i:ee,o:ee,d(t){t&&c(e),t&&c(v),t&&c(p),t&&c(A),t&&c(E),t&&c(C),N&&N.d(t),t&&c(T),H=!1,se(Q)}}}function _e(r){if(r.includes("#"))return null;const[e,l]=r.replaceAll("[","").replaceAll("]","").split(":");return Number.isNaN(parseFloat(e))||Number.isNaN(parseFloat(l))?null:[parseFloat(l),parseFloat(e)]}function de(r,e,l){if(e<=0||l<=0)return[[],"Slide BPM or component count cannot be smaller than 0"];let o=_e(r);if(!o)return[[],"Slide duration is not valid"];let[n,s]=o;const _=s*l,d=[`[${_}:${n}]`];for(let v=1;v<l;v++){const p=.25+n/_*v,a=e*.25*(1/p),i=_/n*p*4;d.push(`[${a}#${i}:1]`)}return[d,""]}function me(r,e,l){let o,n;const s=new URLSearchParams(document.location.search);let _=s.get("sd")??"[3:1]",d=Number(s.get("sb")??"1"),v=Number(s.get("c")??"1");function p(){ue("?"+new URLSearchParams({sd:_,sb:d.toString(),c:v.toString()}),{replaceState:!0})}function a(){_=this.value,l(0,_)}function i(){d=w(this.value),l(1,d)}function S(){v=w(this.value),l(2,v)}return r.$$.update=()=>{r.$$.dirty&7&&l(4,[o,n]=de(_,d,v),o,(l(3,n),l(0,_),l(1,d),l(2,v)))},[_,d,v,n,o,p,a,i,S]}class be extends ie{constructor(e){super(),re(this,e,me,pe,oe,{})}}export{be as default};
