import{S as st,i as ot,s as at,k as D,q as Z,a as U,e as $,l as O,m as C,r as G,h as M,c as j,n as x,b as F,G as g,I as K,J as X,K as Y,B as tt,L as lt,u as nt,M as ft}from"../../chunks/index-3fdf889f.js";import{j as q}from"../../chunks/singletons-df0f1e33.js";q.disable_scroll_handling;const ut=q.goto;q.invalidate;q.invalidateAll;q.preload_data;q.preload_code;q.before_navigate;q.after_navigate;function ht(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var rt={exports:{}};(function(c,f){(function(v){var p=2e3,n={s:1,n:0,d:1};function d(t,i){if(isNaN(t=parseInt(t,10)))throw a.InvalidParameter;return t*i}function u(t,i){if(i===0)throw a.DivisionByZero;var e=Object.create(a.prototype);e.s=t<0?-1:1,t=t<0?-t:t;var r=y(t,i);return e.n=t/r,e.d=i/r,e}function P(t){for(var i={},e=t,r=2,s=4;s<=e;){for(;e%r===0;)e/=r,i[r]=(i[r]||0)+1;s+=1+2*r++}return e!==t?e>1&&(i[e]=(i[e]||0)+1):i[t]=(i[t]||0)+1,i}var b=function(t,i){var e=0,r=1,s=1,_=0,N=0,A=0,R=1,S=1,l=0,o=1,k=1,L=1,V=1e7,T;if(t!=null)if(i!==void 0){if(e=t,r=i,s=e*r,e%1!==0||r%1!==0)throw a.NonIntegerParameter}else switch(typeof t){case"object":{if("d"in t&&"n"in t)e=t.n,r=t.d,"s"in t&&(e*=t.s);else if(0 in t)e=t[0],1 in t&&(r=t[1]);else throw a.InvalidParameter;s=e*r;break}case"number":{if(t<0&&(s=t,t=-t),t%1===0)e=t;else if(t>0){for(t>=1&&(S=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=S);o<=V&&L<=V;)if(T=(l+k)/(o+L),t===T){o+L<=V?(e=l+k,r=o+L):L>o?(e=k,r=L):(e=l,r=o);break}else t>T?(l+=k,o+=L):(k+=l,L+=o),o>V?(e=k,r=L):(e=l,r=o);e*=S}else(isNaN(t)||isNaN(i))&&(r=e=NaN);break}case"string":{if(o=t.match(/\d+|./g),o===null)throw a.InvalidParameter;if(o[l]==="-"?(s=-1,l++):o[l]==="+"&&l++,o.length===l+1?N=d(o[l++],s):o[l+1]==="."||o[l]==="."?(o[l]!=="."&&(_=d(o[l++],s)),l++,(l+1===o.length||o[l+1]==="("&&o[l+3]===")"||o[l+1]==="'"&&o[l+3]==="'")&&(N=d(o[l],s),R=Math.pow(10,o[l].length),l++),(o[l]==="("&&o[l+2]===")"||o[l]==="'"&&o[l+2]==="'")&&(A=d(o[l+1],s),S=Math.pow(10,o[l+1].length)-1,l+=3)):o[l+1]==="/"||o[l+1]===":"?(N=d(o[l],s),R=d(o[l+2],1),l+=3):o[l+3]==="/"&&o[l+1]===" "&&(_=d(o[l],s),N=d(o[l+2],s),R=d(o[l+4],1),l+=5),o.length<=l){r=R*S,s=e=A+r*_+S*N;break}}default:throw a.InvalidParameter}if(r===0)throw a.DivisionByZero;n.s=s<0?-1:1,n.n=Math.abs(e),n.d=Math.abs(r)};function E(t,i,e){for(var r=1;i>0;t=t*t%e,i>>=1)i&1&&(r=r*t%e);return r}function w(t,i){for(;i%2===0;i/=2);for(;i%5===0;i/=5);if(i===1)return 0;for(var e=10%i,r=1;e!==1;r++)if(e=e*10%i,r>p)return 0;return r}function m(t,i,e){for(var r=1,s=E(10,e,i),_=0;_<300;_++){if(r===s)return _;r=r*10%i,s=s*10%i}return 0}function y(t,i){if(!t)return i;if(!i)return t;for(;;){if(t%=i,!t)return i;if(i%=t,!i)return t}}function a(t,i){if(b(t,i),this instanceof a)t=y(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t;else return u(n.s*n.n,n.d)}a.DivisionByZero=new Error("Division by Zero"),a.InvalidParameter=new Error("Invalid argument"),a.NonIntegerParameter=new Error("Parameters must be integer"),a.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(t,i){return b(t,i),u(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,i){return b(t,i),u(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,i){return b(t,i),u(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,i){return b(t,i),u(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(t,i){if(isNaN(this.n)||isNaN(this.d))return new a(NaN);if(t===void 0)return u(this.s*this.n%this.d,1);if(b(t,i),n.n===0&&this.d===0)throw a.DivisionByZero;return u(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,i){return b(t,i),u(y(n.n,this.n)*y(n.d,this.d),n.d*this.d)},lcm:function(t,i){return b(t,i),n.n===0&&this.n===0?u(0,1):u(n.n*this.n,y(n.n,this.n)*y(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(t,i){if(b(t,i),n.d===1)return n.s<0?u(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):u(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var e=P(this.n),r=P(this.d),s=1,_=1;for(var N in e)if(N!=="1"){if(N==="0"){s=0;break}if(e[N]*=n.n,e[N]%n.d===0)e[N]/=n.d;else return null;s*=Math.pow(N,e[N])}for(var N in r)if(N!=="1"){if(r[N]*=n.n,r[N]%n.d===0)r[N]/=n.d;else return null;_*=Math.pow(N,r[N])}return n.s<0?u(_,s):u(s,_)},equals:function(t,i){return b(t,i),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(t,i){b(t,i);var e=this.s*this.n*n.d-n.s*n.n*this.d;return(0<e)-(e<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var i=this.abs(),e=i.toContinued(),r=1;r<e.length;r++){for(var s=u(e[r-1],1),_=r-2;_>=0;_--)s=s.inverse().add(e[_]);if(s.sub(i).abs().valueOf()<t)return s.mul(this.s)}return this},divisible:function(t,i){return b(t,i),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var i,e="",r=this.n,s=this.d;return this.s<0&&(e+="-"),s===1?e+=r:(t&&(i=Math.floor(r/s))>0&&(e+=i,e+=" ",r%=s),e+=r,e+="/",e+=s),e},toLatex:function(t){var i,e="",r=this.n,s=this.d;return this.s<0&&(e+="-"),s===1?e+=r:(t&&(i=Math.floor(r/s))>0&&(e+=i,r%=s),e+="\\frac{",e+=r,e+="}{",e+=s,e+="}"),e},toContinued:function(){var t,i=this.n,e=this.d,r=[];if(isNaN(i)||isNaN(e))return r;do r.push(Math.floor(i/e)),t=i%e,i=e,e=t;while(i!==1);return r},toString:function(t){var i=this.n,e=this.d;if(isNaN(i)||isNaN(e))return"NaN";t=t||15;var r=w(i,e),s=m(i,e,r),_=this.s<0?"-":"";if(_+=i/e|0,i%=e,i*=10,i&&(_+="."),r){for(var N=s;N--;)_+=i/e|0,i%=e,i*=10;_+="(";for(var N=r;N--;)_+=i/e|0,i%=e,i*=10;_+=")"}else for(var N=t;i&&N--;)_+=i/e|0,i%=e,i*=10;return _}},Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Fraction=a,c.exports=a})()})(rt);const dt=ht(rt.exports);function it(c,f,v){const p=c.slice();return p[11]=f[v],p}function ct(c){let f,v,p;return{c(){f=D("div"),v=Z("ERROR: "),p=Z(c[3])},l(n){f=O(n,"DIV",{});var d=C(f);v=G(d,"ERROR: "),p=G(d,c[3]),d.forEach(M)},m(n,d){F(n,f,d),g(f,v),g(f,p)},p(n,d){d&8&&nt(p,n[3])},d(n){n&&M(f)}}}function vt(c){let f,v,p,n,d,u,P,b,E=c[4],w=[];for(let m=0;m<E.length;m+=1)w[m]=et(it(c,E,m));return{c(){f=D("button"),v=Z("Link to this result"),p=U(),n=D("div"),d=Z(`Component list:
    `),u=D("ul");for(let m=0;m<w.length;m+=1)w[m].c()},l(m){f=O(m,"BUTTON",{});var y=C(f);v=G(y,"Link to this result"),y.forEach(M),p=j(m),n=O(m,"DIV",{});var a=C(n);d=G(a,`Component list:
    `),u=O(a,"UL",{});var t=C(u);for(let i=0;i<w.length;i+=1)w[i].l(t);t.forEach(M),a.forEach(M)},m(m,y){F(m,f,y),g(f,v),F(m,p,y),F(m,n,y),g(n,d),g(n,u);for(let a=0;a<w.length;a+=1)w[a].m(u,null);P||(b=X(f,"click",c[5]),P=!0)},p(m,y){if(y&16){E=m[4];let a;for(a=0;a<E.length;a+=1){const t=it(m,E,a);w[a]?w[a].p(t,y):(w[a]=et(t),w[a].c(),w[a].m(u,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=E.length}},d(m){m&&M(f),m&&M(p),m&&M(n),ft(w,m),P=!1,b()}}}function et(c){let f,v=c[11]+"",p;return{c(){f=D("li"),p=Z(v)},l(n){f=O(n,"LI",{});var d=C(f);p=G(d,v),d.forEach(M)},m(n,d){F(n,f,d),g(f,p)},p(n,d){d&16&&v!==(v=n[11]+"")&&nt(p,v)},d(n){n&&M(f)}}}function Nt(c){let f,v,p,n,d,u,P,b,E,w,m,y,a,t,i,e,r,s,_,N,A,R,S,l,o,k,L;function V(h,I){if(h[4].length>0)return vt;if(h[3].length>0)return ct}let T=V(c),B=T&&T(c);return{c(){f=D("div"),v=D("strong"),p=Z("Original slide duration:"),n=U(),d=D("br"),u=U(),P=D("input"),b=U(),E=D("div"),w=D("strong"),m=Z("Slide BPM:"),y=U(),a=D("br"),t=U(),i=D("input"),e=U(),r=D("div"),s=D("strong"),_=Z("Number of components:"),N=U(),A=D("br"),R=U(),S=D("input"),l=U(),B&&B.c(),o=$(),this.h()},l(h){f=O(h,"DIV",{});var I=C(f);v=O(I,"STRONG",{});var H=C(v);p=G(H,"Original slide duration:"),H.forEach(M),n=j(I),d=O(I,"BR",{}),u=j(I),P=O(I,"INPUT",{}),I.forEach(M),b=j(h),E=O(h,"DIV",{});var z=C(E);w=O(z,"STRONG",{});var Q=C(w);m=G(Q,"Slide BPM:"),Q.forEach(M),y=j(z),a=O(z,"BR",{}),t=j(z),i=O(z,"INPUT",{type:!0}),z.forEach(M),e=j(h),r=O(h,"DIV",{});var J=C(r);s=O(J,"STRONG",{});var W=C(s);_=G(W,"Number of components:"),W.forEach(M),N=j(J),A=O(J,"BR",{}),R=j(J),S=O(J,"INPUT",{type:!0}),J.forEach(M),l=j(h),B&&B.l(h),o=$(),this.h()},h(){x(i,"type","number"),x(S,"type","number")},m(h,I){F(h,f,I),g(f,v),g(v,p),g(f,n),g(f,d),g(f,u),g(f,P),K(P,c[0]),F(h,b,I),F(h,E,I),g(E,w),g(w,m),g(E,y),g(E,a),g(E,t),g(E,i),K(i,c[1]),F(h,e,I),F(h,r,I),g(r,s),g(s,_),g(r,N),g(r,A),g(r,R),g(r,S),K(S,c[2]),F(h,l,I),B&&B.m(h,I),F(h,o,I),k||(L=[X(P,"input",c[6]),X(i,"input",c[7]),X(S,"input",c[8])],k=!0)},p(h,[I]){I&1&&P.value!==h[0]&&K(P,h[0]),I&2&&Y(i.value)!==h[1]&&K(i,h[1]),I&4&&Y(S.value)!==h[2]&&K(S,h[2]),T===(T=V(h))&&B?B.p(h,I):(B&&B.d(1),B=T&&T(h),B&&(B.c(),B.m(o.parentNode,o)))},i:tt,o:tt,d(h){h&&M(f),h&&M(b),h&&M(E),h&&M(e),h&&M(r),h&&M(l),B&&B.d(h),h&&M(o),k=!1,lt(L)}}}function mt(c){if(c.includes("#"))return null;const[f,v]=c.replaceAll("[","").replaceAll("]","").split(":");return Number.isNaN(parseFloat(f))||Number.isNaN(parseFloat(v))?null:[parseFloat(v),parseFloat(f)]}function _t(c,f,v){let p,n;const d=new URLSearchParams(document.location.search);let u=d.get("sd")??"[3:1]",P=Number(d.get("sb")??"1"),b=Number(d.get("c")??"1");function E(){ut("?"+new URLSearchParams({sd:u,sb:P.toString(),c:b.toString()}),{replaceState:!0})}function w(t,i,e){if(i<=0||e<=0)return[[],"Slide BPM or component count cannot be smaller than 0"];let r=mt(t);if(!r)return[[],"Slide duration is not valid"];let[s,_]=r;const N=_*e,A=[`[${N}:${s}]`];for(let R=1;R<e;R++){const S=.25+s/N*R,l=i*.25*(1/S),o=N/s*S*4,k=new dt(1).div(o),[L,V]=k.toFraction().split("/");A.push(`[${l}#${V}:${L}]`)}return[A,""]}function m(){u=this.value,v(0,u)}function y(){P=Y(this.value),v(1,P)}function a(){b=Y(this.value),v(2,b)}return c.$$.update=()=>{c.$$.dirty&7&&v(4,[p,n]=w(u,P,b),p,(v(3,n),v(0,u),v(1,P),v(2,b)))},[u,P,b,n,p,E,m,y,a]}class wt extends st{constructor(f){super(),ot(this,f,_t,Nt,at,{})}}export{wt as default};
